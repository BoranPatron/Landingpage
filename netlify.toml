[build]
  command = "npm run build"
  publish = "Landingpage"
  functions = "Landingpage/netlify/functions"
  environment = { DEPLOYMENT_MODE = "production" }

# Netlify Environment Variables
# Setze diese im Netlify Dashboard:
# - API_BASE_URL (z.B. https://buildwise-api.onrender.com)
# - FRONTEND_URL (z.B. https://www.buildwise.ch)
# - BREVO_API_KEY (dein API Key)

# SPA Routing: Alle nicht-existierenden Pfade zu index.html
# Beachte: Diese Regel gilt nur f端r nicht-existierende Dateien
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
  force = false

# API Redirect f端r Netlify Functions
[[redirects]]
  from = "/api/beta-subscribe"
  to = "/.netlify/functions/brevo-beta-subscribe"
  status = 200

# Content Security Policy Headers entfernt - Cloudflare 端berschreibt die Header
# CSP wird stattdessen 端ber Meta-Tag in index.html gesetzt
# [[headers]]
#   for = "/*"
#   [headers.values]
#     Content-Security-Policy = "..."

